<html>

<head>
    <title>Add User Data</title>
    <script>


        async function sendData() {

            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            myHeaders.append("Accept", "application/json");

            var raw = {
                "reg_date": document.getElementById("reg_date").value,
                "first_name": document.getElementById("first_name").value,
                "last_name": document.getElementById("last_name").value,
                "email": document.getElementById("email").value,
                "password": document.getElementById("password").value,
                "user_role": document.getElementById("user_role").value,
                "username": document.getElementById("username").value
            };

            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: JSON.stringify(raw),
                mode: 'cors'

            };
            console.log(JSON.stringify(raw))
            console.log('end call')
            event.preventDefault();
            await fetch("https://rest-api-webproject.herokuapp.com/users/new", requestOptions)
                .then(response => response.text())
                .then(result => alert(result))
                .catch(error => alert(error));
        }

    </script>
</head>

<body>
    <style>
        tr>*+* {
            padding-left: 4em;
        }
    </style>
    <form onsubmit="sendData()">
        <h2>POST User</h2>
        <table border="0">
            <tr>
                <td>Registeration Date</td>
                <td><input type="text" id="reg_date" value="01-02-2013" required /></td>
            </tr>

            <tr>
                <td>First Name</td>
                <td><input type="text" id="first_name" value="harim" required /></td>
            </tr>
            <tr>
                <td>Last Name</td>
                <td><input type="text" id="last_name" value="muzamil" required /></td>
            </tr>
            <tr>
                <td>Email</td>
                <td><input type="text" id="email" value="harim@example.com" required /></td>
            </tr>
            <tr>
                <td>Password</td>
                <td><input type="password" id="password" value="123456" required /></td>
            </tr>
            <tr>
                <td>User Role</td>
                <td><input type="text" id="user_role" value="customer" required /></td>
            </tr>
            <tr>
                <td>Username</td>
                <td><input type="text" id="username" value="harim1" required /></td>
            </tr>
                <td></td>
                <td><input type="submit" value="Send" /></td>
            </tr>
        </table>

    </form>
</body>

</html>